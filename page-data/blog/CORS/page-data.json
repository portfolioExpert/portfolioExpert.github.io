{
    "componentChunkName": "component---src-templates-blog-post-tsx",
    "path": "/blog/CORS/",
    "result": {"data":{"markdownRemark":{"html":"<h1 id=\"cors\" style=\"position:relative;\"><a href=\"#cors\" aria-label=\"cors permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CORS</h1>\n<h4 id=\"cors-란\" style=\"position:relative;\"><a href=\"#cors-%EB%9E%80\" aria-label=\"cors 란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CORS 란</h4>\n<ul>\n<li>\n<p>- 우리가 가져오는 리소스들이 안전한지 검사하는 관문</p>\n</li>\n<li>\n<p>- Cross Origin Resource Sharing</p>\n</li>\n</ul>\n<h4 id=\"발생이유\" style=\"position:relative;\"><a href=\"#%EB%B0%9C%EC%83%9D%EC%9D%B4%EC%9C%A0\" aria-label=\"발생이유 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>발생이유</h4>\n<ul>\n<li>\n<p>- HTML은 기본적으로 Cross-Origin 정책을 따른다</p>\n<ul>\n<li>- img 태그의 src에서 다른 리소스에 접근하는 것이 가능, link 태그의 href에서 다른 origin의 css 등의 리소스에 접근하는 것이 가능</li>\n</ul>\n</li>\n<li>\n<p>- XMLHttpRequest, Fetch API 등 script 태그 내 기본적으로 same-origin 정책을 따른다.</p>\n<ul>\n<li>- 자바스크립트는 서로 다른 도메인에 대한 요청을 보안상 제한 (브라우저 기본 설정은 하나의 서버 연결만 허용)</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"origin-이란\" style=\"position:relative;\"><a href=\"#origin-%EC%9D%B4%EB%9E%80\" aria-label=\"origin 이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Origin 이란</h4>\n<ul>\n<li>- Protolcol과 host, port 까지 합친 URL로 자바스크립트로 Location 객체가 가지고 있는 origin 프로퍼티에 접근하여 출처를 알아낼 수 있다.</li>\n</ul>\n<h4 id=\"sop---동일-출처-정책\" style=\"position:relative;\"><a href=\"#sop---%EB%8F%99%EC%9D%BC-%EC%B6%9C%EC%B2%98-%EC%A0%95%EC%B1%85\" aria-label=\"sop   동일 출처 정책 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SOP - 동일 출처 정책</h4>\n<ul>\n<li>\n<p>- 같은 출처에서만 리소스를 공유할 수 있다.</p>\n</li>\n<li>\n<p>- Origin이 가지고 있는 구성요소가 같은지 확인하면 된다.</p>\n</li>\n<li>\n<p>- 프로토콜, 호스트, 포트 이 중 하나라도 일치하지 않으면 Cross Origin이 된다.</p>\n</li>\n</ul>\n<h4 id=\"cors---교차-출처-리소스-공유\" style=\"position:relative;\"><a href=\"#cors---%EA%B5%90%EC%B0%A8-%EC%B6%9C%EC%B2%98-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EA%B3%B5%EC%9C%A0\" aria-label=\"cors   교차 출처 리소스 공유 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CORS - 교차 출처 리소스 공유</h4>\n<ul>\n<li>- HTTP 헤더를 사용하여 한 출처에서 실행 중인 웹 애플리케이션이 다른 출처의 선택한 자원에 접근할 수 있도록 권한을 부여하는 정책</li>\n</ul>\n<h4 id=\"cors-동작과정\" style=\"position:relative;\"><a href=\"#cors-%EB%8F%99%EC%9E%91%EA%B3%BC%EC%A0%95\" aria-label=\"cors 동작과정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CORS 동작과정</h4>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">1. 클라이언트에서 HTTP 요청의 헤더에 Origin을 담아 전달</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">2. 서버는 응답헤더에 Access-Control-Allow-Origin을 담아 클라이언트에 전달</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">3. 클라이언트에서 자신이 보냈던 요청의 Origin과 서버가 보내준 Access-Control-Allow-Origin을 비교한다.</span></span></code></pre>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 37.423312883435585%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABCUlEQVQoz42PXW+CMBhG/R1zAhYoHw0gtJQPdeqWmGUXW5b5///KWURmcNuFF0/6ps17ep5ZUVnapwPNZke7PSBVjogUYZIhZMpChMxdwdz1WXgB3jLA9fwxk3m8n+kg4FRr3k3FpzWcWjvkq7V86JK3IuOYxryqhNI/Q/1f0NvMsijh2HW8NC17U7PThmd7mRulMHFMJSVaSmLh49wAp+doGMaKqt1QmJasspS2H+Y0r0iyimWY8OAIHr0z7I7KMkqpmx5tGvJCE8WKUCaXRVfgjUaX/Cz/A7waRimltuQrM4AWzhLHFcPjjc205p/KE8OzkbH9NXWzpt/sabot6+0Bla2GD7w7gd/QZs3Bv5lMsgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"access control allow origin\" title=\"access control allow origin\" src=\"/static/fc0b75dd13a4a9e921cdb48bbee67841/a6d36/access-control-allow-origin.png\" srcset=\"/static/fc0b75dd13a4a9e921cdb48bbee67841/222b7/access-control-allow-origin.png 163w,\n/static/fc0b75dd13a4a9e921cdb48bbee67841/ff46a/access-control-allow-origin.png 325w,\n/static/fc0b75dd13a4a9e921cdb48bbee67841/a6d36/access-control-allow-origin.png 650w,\n/static/fc0b75dd13a4a9e921cdb48bbee67841/e548f/access-control-allow-origin.png 975w,\n/static/fc0b75dd13a4a9e921cdb48bbee67841/d5bfb/access-control-allow-origin.png 1072w\" sizes=\"(max-width: 650px) 100vw, 650px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<ul>\n<li>- Response의 access-control-allow-origin</li>\n</ul>\n</br>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 71.16564417177914%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB9ElEQVQ4y41T2XLbMAzUl8S25EOndVHiIYqxnbQP/Y1Okv//gu0sFKmdaSfTBwwJgFxgsWSU5RV8uMNOAaOZkBc1suIqa5qVuKQF9vEJu33yXxbtD0eo0aJTBkXVCkiWX1GUjawseDylOCRnHOITkuMFySlF/OnHyW+fFvGAGp2AsrM0r5CXNYqqQVV3qBuFa9MvVvfit71e9q1CVffiN90gsYiog3boBysgrMqu2f7TLv6LEmNf2QbY9Vo6rdsB5bXD6Zz9AXzYLjD2lQnlQU8iyGg81GA38E5pocQRrKPgpX91vonCDjk/bWcBJXX6TTeKIOe0QJpVojYFowBsYhVoFUPseEEUiyhWuqMZF2CnZ1G9H4ysBKeRCYVYRHRynmfafhRhuBfKnBtBCCZ7fxPfzXf48IDzN4TbN7x8/yE5smBsCg9hRvPPL5jmOwFTjNZvgrCLBVjJRXbIGPPsZJmt2eIEYad8MlwFkEkeXOboNwC+rV4ZAWcxikRqzGsXpCCZLNSt5CI+j3F0mMMD4fYKbTy0mWBd2AqwIKmyCAFWsDVP42h4LtrFZ2R8exy+8WhtwHV0KJWFMn6jJJftLINfx7KCkcn6/yOXZfgwCj/tgLdJ42O2eHMa73aAbztU7YC6Wb5c/fn9CLB+SY6Dz4n/nfYL38Ozw3ZvrPAAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"origin\" title=\"origin\" src=\"/static/c3495380bb884d900d267c232ab401ff/a6d36/origin.png\" srcset=\"/static/c3495380bb884d900d267c232ab401ff/222b7/origin.png 163w,\n/static/c3495380bb884d900d267c232ab401ff/ff46a/origin.png 325w,\n/static/c3495380bb884d900d267c232ab401ff/a6d36/origin.png 650w,\n/static/c3495380bb884d900d267c232ab401ff/e548f/origin.png 975w,\n/static/c3495380bb884d900d267c232ab401ff/97bfd/origin.png 1078w\" sizes=\"(max-width: 650px) 100vw, 650px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<ul>\n<li>- request의 origin</li>\n</ul>\n<blockquote>\n<p>서버 응답은 CORS 정책 위반 여부에 관여하지 않는다</p>\n<p>CORS 정책에 의해 Origin을 비교하는 로직은 브라우저에 구현되어 있어 200의 상태코드여도 브라우저가 응답을 CORS 정책 위반이라고 분석하면 해당 응답은 사용하지 않는다.</p>\n<p>따라서 정확한 CORS 이해가 필요하다.</p>\n</blockquote>\n<hr>\n<h2 id=\"cors-작동-방식---3가지-시나리오\" style=\"position:relative;\"><a href=\"#cors-%EC%9E%91%EB%8F%99-%EB%B0%A9%EC%8B%9D---3%EA%B0%80%EC%A7%80-%EC%8B%9C%EB%82%98%EB%A6%AC%EC%98%A4\" aria-label=\"cors 작동 방식   3가지 시나리오 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CORS 작동 방식 - 3가지 시나리오</h2>\n<h4 id=\"예비요청\" style=\"position:relative;\"><a href=\"#%EC%98%88%EB%B9%84%EC%9A%94%EC%B2%AD\" aria-label=\"예비요청 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>예비요청</h4>\n<ul>\n<li>\n<p>- 브라우저는 요청을 한번에 보내지 않고, 예비요청과 본요청으로 나누어 서버에 전달</p>\n</li>\n<li>\n<p>- 예비요청을 Preflight이라 하며 사용메소드는 OPTIONS 라는 것이 사용된다.</p>\n</li>\n</ul>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 64.41717791411043%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAADgElEQVQ4y2WTf0xbVRTHv+/R91rs68+VlhAXf7ACm7S00ywaYjdlISxGEyPTaOYPEmT7w8Uli0E0TPw9o9uMW8wUw5awwDAoyIq0lvdaCrRjeywNHbS0iw3rLymbyTbFLNFdczs0Lp7k3HtuzsnnnnPuuQBQBaAGgAYARkdHEQgEsCYGFtioYJh19ODr72fFkyfZ2eFhdtHvZ5PBIBvxelnqY4FyFthA7RKWYVQ8x5VQe2hoyOV2uzdRR011NQeGEY5oNCCrq7gRi2G6txcLbjfS09PIzcyALC+DZDJ45XYCSrpwLMuqeY7jKDAQCOwSJclFCIHZZlM+DlgW1GoVWV2t+j0ed8z09dUtjIzUpaem7AVZtpFCwUmy2ft6Ab5BpdIWgUUowxSvGB4cxGAoBFJfryB6PfcWYHp984OmpURCis/NLU2Oj8fPT00l5HA4MSmKscVoNJtPpU4BUO8zGNb/A+Sp8TQAFyHMr1Zr6Z9ANQFqWrU6IwlIuDA/35BfWenKrVxpHw8GO8LybEe2UHgzlckc8EciNnJ1BQf0etMdQCoEwC0wxd0FYI9Ocy+A0mQ49GoqFkulFxcvysGJ+NzZs7Gf5+cvZi8lk7+EprfRmE6L2XIHkF8DUu2pfYbp+oLgocpHhGz7GNex4bliHO3tf9UBqzJzVObSr51R3KO1qP+XofKjW6g48hcsXxPA+QnKnuwsF7bvNQqN+3Xs9nbtkHdirxSe7fJOhN/7wTf5LIzNalPzhwah/qVy/aOtFUUgAyjLLRZ803OC/d47WULyHzDGj/8oMxwiVtOWndoXCMFGQvA5IbiciFZev5JzLGdSjqV4pEIkBKAKMObG/f/2UEENj8cDSRLxo3e8WPj93xGd8eFd63W2JoPlsTatsHknHX5+9Cf/2yMekY5eSWXjbl2Zq1Vr2tqmNze9YQYDcIIgGCgwGAxulWV5z8y5c22S54yV9ujuLU+tsx1MqpxHr/L2wzmuqTuvbOlZULeciN/VcDzH2w/neeeX1/ja96MqwVqvKQJLVSo9Tdntdtv9fv8Toiju6Os/TWeKUbMQtoUINr0bQe1nGTzwaRot3RG82B1F1cHLsB/KoqbzPF6+XXYp1sql3w5jY2OQJAk+nw8DAwNrz8TyutomeAhB3bHrcH51E89/ewPNp3+D/fhNOI5dwzuEwGDbAYZVqP4GJ41wasw2Bw0AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"prelight\" title=\"prelight\" src=\"/static/412474480fdf60025aee1c9150a0a679/6af66/prelight.png\" srcset=\"/static/412474480fdf60025aee1c9150a0a679/222b7/prelight.png 163w,\n/static/412474480fdf60025aee1c9150a0a679/ff46a/prelight.png 325w,\n/static/412474480fdf60025aee1c9150a0a679/6af66/prelight.png 640w\" sizes=\"(max-width: 640px) 100vw, 640px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">1. fetch API를 통해 브라우저에게 리소스를 받아오려고 한다.</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">2. 브라우저는 서버로 예비요청을 보낸다.</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">3. 서버는 예비요청에 응답으로 어떤것을 허용하고 금지하는지 정보를 담아서 브라우저에 보내준다.</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">4. 브라우저는 보낸 요청과 서버가 응답해준 정책을 비교하여 해당 요청이 안전한지 확인하고 본 요청을 보낸다.</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">5. 이후 서버가 본 요청에 대한 응답을하면 최종적으로 응답 데이터를 자바스크립트로 넘겨준다.</span></span></code></pre>\n<h4 id=\"단순-요청\" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EC%88%9C-%EC%9A%94%EC%B2%AD\" aria-label=\"단순 요청 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>단순 요청</h4>\n<ul>\n<li>- 예비 요청을 보내지 않고 바로 서버에 직행으로 본 요청을 보낸 후, 서버가 이에 응답 헤더에 access-control-allow-origin과 같은 값을 보내주면 브라우저가 CORS 정책 위반 여부를 검사하는 방식</li>\n</ul>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 650px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 47.852760736196316%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABa0lEQVQoz3VSbW+0IBC8///z7lPT9O0KoiIigqCAOg17tTX3PJ1kA64wO8zuRQiBEikl7PuOgmmaUFUVlFKUK1laH+I4W9c1lmWh70vbthjHEY+QsoU98uXyd+ynPbBj21aIqiJBRGiMQSF1zoExBikl7T8/GWLKdz78i/2U14PBum6/hEVhzhkhBCzLjJxXPL9zvDMBIXvU3QDedGBC4sYbsLpDqwyqVqFqezy9fGCa78Uvhex4/xnl4Bw8ck7IKcFPE0LwmJyDcxYxLkgpkhDVSZgpYvTxTliU4Ww8AN4oxIdC27b/eHWG1j2UnfFcDX8rvAlJlYuycsFZi7fXV1yvV3DOMBqDTkrMIVBTbPhuyjAM5GGMEd57GoOi4lY10DagHydSW3cajTKQ2pKnQmqwWsKFRP/9kuhll77vqbNlLfPIOUdpVKnqw/xnZ8+5TvU0PqTQWkvqHlHyxfTDW/wnjuEetMa63gm/AINUBrip85P3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"SimpleRequest\" title=\"SimpleRequest\" src=\"/static/44cd233b6fb2e8e40d10bbe4dcb4fdd0/a6d36/SimpleRequest.png\" srcset=\"/static/44cd233b6fb2e8e40d10bbe4dcb4fdd0/222b7/SimpleRequest.png 163w,\n/static/44cd233b6fb2e8e40d10bbe4dcb4fdd0/ff46a/SimpleRequest.png 325w,\n/static/44cd233b6fb2e8e40d10bbe4dcb4fdd0/a6d36/SimpleRequest.png 650w,\n/static/44cd233b6fb2e8e40d10bbe4dcb4fdd0/e548f/SimpleRequest.png 975w,\n/static/44cd233b6fb2e8e40d10bbe4dcb4fdd0/3c492/SimpleRequest.png 1300w,\n/static/44cd233b6fb2e8e40d10bbe4dcb4fdd0/76435/SimpleRequest.png 1742w\" sizes=\"(max-width: 650px) 100vw, 650px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n<ul>\n<li>\n<p>- 3가지 조건을 만족해야 가능하다.</p>\n<ul>\n<li>\n<p>- 요청 메소드는 GET, HEAD, POST 중 하나여야 한다.</p>\n</li>\n<li>\n<p>- 유저 에이전트가 자동으로 설정한 헤더외에 수동으로 설정할 수 있는 헤더는 Accept, Accept-Language, Content-Language, Content-Type, DPR, Downlink, Save-Data, Viewport-Width, Width를 제외한 헤더를 사용하면 안된다.</p>\n</li>\n<li>\n<p>- Content-Type을 사용하는 경우에는 application/x-www-form-urlencoded, multipart/form-data, text/plain 값만 허용한다.</p>\n</li>\n</ul>\n</li>\n</ul>\n<p>따라서 단순 요청이 일어나는 상황을 만드는 것이 쉽지않아 대부분 요청은 예비 요청이 이루어진다 라고 생각하면 된다.</p>\n<h4 id=\"인증된-요청---credentialed-request\" style=\"position:relative;\"><a href=\"#%EC%9D%B8%EC%A6%9D%EB%90%9C-%EC%9A%94%EC%B2%AD---credentialed-request\" aria-label=\"인증된 요청   credentialed request permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>인증된 요청 - Credentialed Request</h4>\n<ul>\n<li>\n<p>- 예비요청에서 보안을 더 강화하고 싶을 때 사용</p>\n</li>\n<li>\n<p>- XMLHttpRequest 객체나 fetch API는 별도의 옵션 없이 브라우저의 쿠키 정보나 인증과 관련된 헤더를 함부로 요청에 담지 않는다.</p>\n</li>\n<li>\n<p>- 요청에 인증과 관련된 정보를 담을 수 있게 해주는 옵션이 credetials 옵션으로 3가지 값이 존재</p>\n<ul>\n<li>\n<p>- Same-origin(기본값) : 같은 출처 요청에만 인증 정보를 담을 수 있다.</p>\n</li>\n<li>\n<p>- include: 모든 요청에 인증 정보를 담을 수 있다.</p>\n</li>\n<li>\n<p>- Omit: 모든 요청에 인증 정보를 담지 않는다.</p>\n</li>\n</ul>\n</li>\n<li>\n<p>- 만약 옵션값이 same-origin이나 include와 같은 옵션이라면 브라우저는 다른 출처의 리소스를 요청할 때 access-control-allow-origin 만 확인하는 것이 아닌 다른 조건을 추가로 검사한다.</p>\n<ul>\n<li>\n<p>- Access-Control-Allow-Origin 에는 모든 요청을 허용하는 *을 사용할 수 없으며 명시적 URL이어야 한다.</p>\n</li>\n<li>\n<p>- 응답 헤더에는 반드시 Access-Control-Allow-Credentials: true가 존재해야 한다.</p>\n</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h2 id=\"cors-해결-방법\" style=\"position:relative;\"><a href=\"#cors-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95\" aria-label=\"cors 해결 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CORS 해결 방법</h2>\n<h4 id=\"chrome-확장-프로그램-이용\" style=\"position:relative;\"><a href=\"#chrome-%ED%99%95%EC%9E%A5-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EC%9D%B4%EC%9A%A9\" aria-label=\"chrome 확장 프로그램 이용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Chrome 확장 프로그램 이용</h4>\n<ul>\n<li>- 해당 프로그램을 활성화 시키면 로컬 환경에서 API 테스트 시, CORS 문제를 해결</li>\n</ul>\n</br>\n<h4 id=\"서버에서-access-control-allow-origin-세팅\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B2%84%EC%97%90%EC%84%9C-access-control-allow-origin-%EC%84%B8%ED%8C%85\" aria-label=\"서버에서 access control allow origin 세팅 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>서버에서 Access-Control-Allow-Origin 세팅</h4>\n<pre class=\"grvsc-container github-light-theme grvsc-ps-t4tStz\" data-language=\"javascript\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">res.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">setHeader</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;Access-Control-Allow-Origin&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;*&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">// CORS 허용, 모든 Origin 에서 오는 요청을 허용하므로 명시적 URL을 써주면 좋다.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">res.</span><span class=\"grvsc-tiszgT-7 grvsc-t4tStz-5\">setHeader</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">(</span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;Access-Control-Allow-Credentials&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">, </span><span class=\"grvsc-tiszgT-8 grvsc-t4tStz-10\">&#39;true&#39;</span><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-tiszgT-1 grvsc-t4tStz-1\"> </span><span class=\"grvsc-tiszgT-6 grvsc-t4tStz-2\">//쿠키 주고받기 허용</span></span></span></code></pre>\n<p>참고: <a href=\"https://inpa.tistory.com/entry/WEB-%F0%9F%93%9A-CORS-%F0%9F%92%AF-%EC%A0%95%EB%A6%AC-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95-%F0%9F%91%8F\">https://inpa.tistory.com/entry/WEB-%F0%9F%93%9A-CORS-%F0%9F%92%AF-%EC%A0%95%EB%A6%AC-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95-%F0%9F%91%8F</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .github-light-theme {\n    background-color: #ffffff;\n    color: #000000;\n  }\n  .github-light-theme .grvsc-tiszgT-1 { color: #000000; }\n  .github-light-theme .grvsc-tiszgT-7 { color: #005CC5; }\n  .github-light-theme .grvsc-tiszgT-8 { color: #032F62; }\n  .github-light-theme .grvsc-tiszgT-6 { color: #6A737D; }\n  .github-light-theme .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n  body[data-theme=dark] .grvsc-ps-t4tStz { color: #ffffff; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-1 { color: #FFFFFF; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-5 { color: #BB97E7; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-10 { color: #9DCDF5; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-t4tStz-2 { color: #A19B8F; }\n  body[data-theme=dark] .grvsc-ps-t4tStz .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(0, 0, 0, 0.05));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(0, 0, 0, 0.2));\n  }\n</style>","frontmatter":{"title":"CORS에 대해서","desc":"CORS란 무엇이고 어떻게 발생하는지, 해결방법","thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAwAE/8QAFAEBAAAAAAAAAAAAAAAAAAAAA//aAAwDAQACEAMQAAABwIQuD2aNP//EABkQAAIDAQAAAAAAAAAAAAAAAAABAhExEv/aAAgBAQABBQLX0ok6tMnp/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAES/9oACAEDAQE/AYy//8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/Aa1//8QAFhAAAwAAAAAAAAAAAAAAAAAAECAh/9oACAEBAAY/AhE//8QAGhAAAwEAAwAAAAAAAAAAAAAAAAERMSFBYf/aAAgBAQABPyGbYTRpLztCbhifDHcOlp//2gAMAwEAAgADAAAAENfv/8QAGBEBAQADAAAAAAAAAAAAAAAAAQARITH/2gAIAQMBAT8QIuGNe3//xAAXEQEBAQEAAAAAAAAAAAAAAAABABEh/9oACAECAQE/EEhs9X//xAAaEAEAAwEBAQAAAAAAAAAAAAABABEhMUFh/9oACAEBAAE/EDAk9IciXaEFb9IHCiDzk0ARyEplxQL8Kn//2Q=="},"images":{"fallback":{"src":"/static/f11d92ceeeb0384397933fd116ae8a6e/a764f/WebFront.jpg","srcSet":"/static/f11d92ceeeb0384397933fd116ae8a6e/a764f/WebFront.jpg 1920w","sizes":"1920px"},"sources":[{"srcSet":"/static/f11d92ceeeb0384397933fd116ae8a6e/c512e/WebFront.webp 1920w","type":"image/webp","sizes":"1920px"}]},"width":1920,"height":1080}}},"date":"2022-09-19","category":"Web Front"}}},"pageContext":{"slug":"/blog/CORS/"}},
    "staticQueryHashes": ["1840460387"]}